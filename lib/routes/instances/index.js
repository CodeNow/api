/**
 * route handlers defined in this module:
 * GET /instances
 * POST /instances
 * GET /instances/:id
 * GET /instances/:id/build
 * POST /instances/:id/actions/copy
 * DELETE /instances/:id
 * PATCH /instances/:id
 * POST /instances/:id/actions/redeploy
 * PUT /instances/:id/actions/start
 * PUT /instances/:id/actions/restart
 * PUT /instances/:id/actions/stop
 * @module lib/routes/instances/index
 */
'use strict'

var express = require('express')
var flow = require('middleware-flow')
var keypather = require('keypather')()
var mw = require('dat-middleware')

var Instance = require('models/mongo/instance')
var InstanceService = require('models/services/instance-service')

var checkFound = require('middlewares/check-found')

var github = require('middlewares/apis').github
var docker = require('middlewares/apis').docker
var hosts = require('middlewares/redis').hosts
var logger = require('middlewares/logger')(__filename)
var me = require('middlewares/me')
var messenger = require('middlewares/socket').messenger
var mongoMiddlewares = require('middlewares/mongo')
var ownerIsHelloRunnable = require('middlewares/owner-is-hello-runnable')
var rabbitMQ = require('models/rabbitmq')
var requestTrace = require('middlewares/request-trace')
var runnable = require('middlewares/apis').runnable
var timers = require('middlewares/apis').timers
var transformations = require('middlewares/transformations')
var utils = require('middlewares/utils')
var validations = require('middlewares/validations')

var Boom = mw.Boom
var builds = mongoMiddlewares.builds
var contextVersions = mongoMiddlewares.contextVersions
var instanceCounter = mongoMiddlewares.instanceCounters
var isolations = mongoMiddlewares.isolations
var instances = mongoMiddlewares.instances
var users = mongoMiddlewares.users

var app = module.exports = express()

var findInstance = flow.series(
  instances.findOneByShortHash('params.id'),
  checkFound('instance'),
  // putting the instance._id on req so we don't lose it (and have to search by hash again)
  mw.req().set('instanceId', 'instance._id'))

var findBuild = flow.series(
  mw.body('build').require()
    .then(builds.findById('body.build'))
    .else(builds.findById('instance.build')),
  checkFound('build'),
  flow.or(
    me.isOwnerOf('build'),
    ownerIsHelloRunnable('build'),
    me.isModerator),
  mw.req('build.started').require()
    .else(mw.next(Boom.badRequest("Instances cannot use builds that haven't been started"))))

var findBuildContextVersion = flow.series(
  mw.req('build.contextVersions.length').validate(validations.notEquals(0))
    .else(mw.next(Boom.badRequest('Build must have a contextVersion'))),
  contextVersions.findById('build.contextVersions[0]'),
  checkFound('contextVersion'),
  mw.req('contextVersion.build.started').require()
    .else(
      mw.next(Boom.badRequest(
        'Cannot attach a build to an instance with context ' +
        'versions that have not started building'))))

/**
 * Body param validations for post and patch instance (name, env, build)
 * @param {String} body.name   name to set on the instance
 * @param {String} body.build  id of the build to be attached to the instance
 * @param {Array}  body.env    environment variables to set on the instance
 */
var bodyValidations = flow.series(
  mw.body('name').require().then(
    // If name is being changed, we should attempt
    mw.body('name').string().matches(/^[-0-9a-zA-Z]+$/), // alpha-num schema validator
    mw.body().set('lowerName', 'body.name.toLowerCase()')
  ),
  mw.body('env').require()
    .then(
      mw.body('env').array(),
      mw.body('env').mapValues(function (envArr) {
        return envArr.filter(function (val) {
          return !(/^\s*$/.test(val))
        })
      }),
      mw.body('env').each(
        function (env, req, eachReq, res, next) {
          eachReq.env = env
          next()
        },
        mw.req('env').matches(/^([A-z]+[A-z0-9_]*)=.*$/))),
  mw.body('public').require()
    .then(mw.body('public').boolean()),
  mw.body('locked').require()
    .then(mw.body('locked').boolean()),
  mw.body('masterPod').require()
    .then(mw.body('masterPod').boolean()),
  mw.body('parent').require().then(
    mw.body('parent').string()),
  mw.body('owner').require().then(
    mw.body('owner').validate(validations.isObject)),
  mw.body('owner.github').require().then(
    mw.body('owner.github').number()),
  mw.body('isolated').require()
    .then(
      mw.body('isolated').validate(validations.isObjectId),
      isolations.findById('body.isolated'),
      checkFound('isolation'),
      me.isOwnerOf('isolation')
    ),
  mw.body('isIsolationGroupMaster').require()
    .then(mw.body('isIsolationGroupMaster').boolean()),
  mw.body('ipWhitelist').require().then(
    mw.body('ipWhitelist').validate(validations.isObject)),
  mw.body('ipWhitelist.enabled').require()
    .then(mw.body('ipWhitelist.enabled').boolean()),
  mw.body('build').require()
    .then(
      mw.body('build').validate(validations.isObjectId),
      findBuild,
      // Make sure the build and the instance are owned by the same entity
      // unless build belongs to HELLO_RUNNABLE_GITHUB_ID user (getting started feature)
      mw.req('build.owner.github')
        .validate(validations.equals(process.env.HELLO_RUNNABLE_GITHUB_ID))
        .else(
          mw.req('instance.owner').require()
            .then(
              mw.req('build.owner.github')
                .validate(validations.equalsKeypath('instance.owner.github'))
                .else(mw.next(Boom.badRequest('Instance owner must match Build owner')))),
          mw.req('body.owner').require()
            .then(
              mw.req('build.owner.github').validate(validations.equalsKeypath('body.owner.github'))
                .else(mw.next(Boom.badRequest('Instance owner must match Build owner')))))))

/**
 * Deploy successful build to container
 * @param {String} body.instance       name to set on the instance
 * @param {String} body.build          id of the build to be attached to the instance
 * @param {Array}  body.contextVersion environment variables to set on the instance
 * @param {Array}  body.*              any other instance schema updates
 */
var updateInstanceBuild = flow.series(
  // we need this code because createContainer uses ownerUsername
  mw.req().set('user', 'sessionUser'),
  users.model.findGithubUserByGithubId('instance.owner.github'),
  checkFound('user', 'Owner not found'),
  mw.req().set('ownerUsername', 'user.login'),
  // cache old container so old hipache routes can be removed
  mw.req().set('oldContainer', 'instance.container'),
  // UPDATE INSTANCE with BODY - FIRST to ensure there is no conflict (name)
  instances.findByIdAndUpdate('instanceId', {
    $set: 'body',
    $unset: { container: 1 }
  }),
  // remove old container
  function (req, res, next) {
    var instance = req.instance
    var container = req.oldContainer
    if (container && container.dockerContainer) {
      var branch = Instance.getMainBranchName(instance)
      rabbitMQ.deleteInstanceContainer({
        instanceShortHash: instance.shortHash,
        instanceName: instance.name,
        instanceMasterPod: instance.masterPod,
        instanceMasterBranch: branch,
        container: container,
        ownerGithubId: keypather.get(instance, 'owner.github'),
        ownerGithubUsername: keypather.get(instance, 'owner.username')
      })
    }
    next()
  },
  // create container if build is successful
  findBuild,
  mw.req('build.successful').validate(validations.equals(true))
    .then(
      logger([ 'body', 'build' ], 'ROUTE: updateInstanceBuild build.successful', 'trace'),
      function (req, res, next) {
        rabbitMQ.createInstanceContainer({
          instanceId: req.instanceId,
          contextVersionId: req.build.contextVersions[0],
          sessionUserGithubId: req.sessionUser.accounts.github.id,
          ownerUsername: req.ownerUsername
        })
        next()
      }
  ).else(
    logger([ 'body', 'build' ], 'ROUTE: updateInstanceBuild !build.successful', 'trace')
  )
)

/* Routes Start */

/** Get's the list of instances to be displayed to the user.  This should contain all of the
 *  instances owned by the owner, as well as those owned by groups (s)he is part of
 *  @event GET rest/instances
 *  @memberof module:rest/instances */
app.get('/instances/',
  function (req, res, next) {
    if(req.query.name) {
      res.send(200, [{"_id":"56beb284fa798d4900e2ee0d","name":"log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"lowerName":"log-rhythm","contextVersion":{"_id":"56c10b091ac0da3a00dc1a96","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:29.550Z","dockerContainer":"be5624b5164c417a7bffd3c5936a2138723be5661f076138f40c84b335a7097c","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","containerStarted":"2016-02-14T23:17:08.352Z","completed":"2016-02-14T23:17:24.774Z","failed":false,"dockerImage":"c56b0c2f73a4","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b091ac0da3a00dc1a95","duration":-4776},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"master","lowerBranch":"master","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:29.345Z","id":"56c10b091ac0da3a00dc1a96"},"shortHash":"18qdo1","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10b091ac0da3a00dc1a98","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:17:29.525Z","buildNumber":12151,"completed":"2016-02-14T23:17:24.788Z","failed":false,"created":"2016-02-14T23:17:29.384Z","contextVersions":["56c10b091ac0da3a00dc1a96"],"contexts":["56beb26d26e47e5800db3763"],"duration":-4737,"successful":true,"id":"56c10b091ac0da3a00dc1a98"},"autoForked":false,"masterPod":true,"env":[],"created":"2016-02-13T04:35:16.507Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","Created":"2016-02-14T23:17:41.94240272Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8287,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.057337658Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c56b0c2f73a49cc532a41d2565cfd76eec06d5e226578e85a7cac2024071eeac","ResolvConfPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/resolv.conf","HostnamePath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hostname","HostsPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hosts","LogPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70-json.log","Name":"/gloomy_rosalind","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"f9a13c3a35f3","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=18qdo1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"21c10ff5fcb8fc8dbaf029801277fa4c3145cd8e483b1e7a6fd80b8fb0e02c8f","contextVersionId":"56c10b091ac0da3a00dc1a96","instanceId":"56beb284fa798d4900e2ee0d","instanceName":"log-rhythm","instanceShortHash":"18qdo1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4ca4b37b7a57e0cc310c1a8a08c449a954cc9e4bb1f99a88ec58f18da641f2bb","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/4ca4b37b7a57","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:17:29.902Z","id":"56c107247f99fb5900f86420"},"network":{"hostIp":"10.21.128.4"},"contextVersions":[{"_id":"56c10b091ac0da3a00dc1a96","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:29.550Z","dockerContainer":"be5624b5164c417a7bffd3c5936a2138723be5661f076138f40c84b335a7097c","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","containerStarted":"2016-02-14T23:17:08.352Z","completed":"2016-02-14T23:17:24.774Z","failed":false,"dockerImage":"c56b0c2f73a4","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b091ac0da3a00dc1a95","duration":-4776},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"master","lowerBranch":"master","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:29.345Z","id":"56c10b091ac0da3a00dc1a96"}],"containers":[{"dockerContainer":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","Created":"2016-02-14T23:17:41.94240272Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8287,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.057337658Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c56b0c2f73a49cc532a41d2565cfd76eec06d5e226578e85a7cac2024071eeac","ResolvConfPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/resolv.conf","HostnamePath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hostname","HostsPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hosts","LogPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70-json.log","Name":"/gloomy_rosalind","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"f9a13c3a35f3","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=18qdo1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"21c10ff5fcb8fc8dbaf029801277fa4c3145cd8e483b1e7a6fd80b8fb0e02c8f","contextVersionId":"56c10b091ac0da3a00dc1a96","instanceId":"56beb284fa798d4900e2ee0d","instanceName":"log-rhythm","instanceShortHash":"18qdo1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4ca4b37b7a57e0cc310c1a8a08c449a954cc9e4bb1f99a88ec58f18da641f2bb","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/4ca4b37b7a57","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}}],"id":"56beb284fa798d4900e2ee0d"}])
    }
    else {
      res.send(200, [{"_id":"56beb284fa798d4900e2ee0d","name":"log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"lowerName":"log-rhythm","contextVersion":{"_id":"56c10b091ac0da3a00dc1a96","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:29.550Z","dockerContainer":"be5624b5164c417a7bffd3c5936a2138723be5661f076138f40c84b335a7097c","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","containerStarted":"2016-02-14T23:17:08.352Z","completed":"2016-02-14T23:17:24.774Z","failed":false,"dockerImage":"c56b0c2f73a4","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b091ac0da3a00dc1a95","duration":-4776},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"master","lowerBranch":"master","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:29.345Z","id":"56c10b091ac0da3a00dc1a96"},"shortHash":"18qdo1","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10b091ac0da3a00dc1a98","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:17:29.525Z","buildNumber":12151,"completed":"2016-02-14T23:17:24.788Z","failed":false,"created":"2016-02-14T23:17:29.384Z","contextVersions":["56c10b091ac0da3a00dc1a96"],"contexts":["56beb26d26e47e5800db3763"],"duration":-4737,"successful":true,"id":"56c10b091ac0da3a00dc1a98"},"autoForked":false,"masterPod":true,"env":[],"created":"2016-02-13T04:35:16.507Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","Created":"2016-02-14T23:17:41.94240272Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8287,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.057337658Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c56b0c2f73a49cc532a41d2565cfd76eec06d5e226578e85a7cac2024071eeac","ResolvConfPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/resolv.conf","HostnamePath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hostname","HostsPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hosts","LogPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70-json.log","Name":"/gloomy_rosalind","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"f9a13c3a35f3","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=18qdo1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"21c10ff5fcb8fc8dbaf029801277fa4c3145cd8e483b1e7a6fd80b8fb0e02c8f","contextVersionId":"56c10b091ac0da3a00dc1a96","instanceId":"56beb284fa798d4900e2ee0d","instanceName":"log-rhythm","instanceShortHash":"18qdo1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4ca4b37b7a57e0cc310c1a8a08c449a954cc9e4bb1f99a88ec58f18da641f2bb","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/4ca4b37b7a57","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:17:29.902Z","id":"56c107247f99fb5900f86420"},"network":{"hostIp":"10.21.128.4"},"contextVersions":[{"_id":"56c10b091ac0da3a00dc1a96","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:29.550Z","dockerContainer":"be5624b5164c417a7bffd3c5936a2138723be5661f076138f40c84b335a7097c","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","containerStarted":"2016-02-14T23:17:08.352Z","completed":"2016-02-14T23:17:24.774Z","failed":false,"dockerImage":"c56b0c2f73a4","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b091ac0da3a00dc1a95","duration":-4776},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"master","lowerBranch":"master","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:29.345Z","id":"56c10b091ac0da3a00dc1a96"}],"containers":[{"dockerContainer":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70","Created":"2016-02-14T23:17:41.94240272Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8287,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.057337658Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c56b0c2f73a49cc532a41d2565cfd76eec06d5e226578e85a7cac2024071eeac","ResolvConfPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/resolv.conf","HostnamePath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hostname","HostsPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/hosts","LogPath":"/docker/containers/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70/f9a13c3a35f3783f23c0236685bd42696de8984f0cb616186a165dbd19570b70-json.log","Name":"/gloomy_rosalind","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"f9a13c3a35f3","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=18qdo1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b091ac0da3a00dc1a96","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"21c10ff5fcb8fc8dbaf029801277fa4c3145cd8e483b1e7a6fd80b8fb0e02c8f","contextVersionId":"56c10b091ac0da3a00dc1a96","instanceId":"56beb284fa798d4900e2ee0d","instanceName":"log-rhythm","instanceShortHash":"18qdo1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4ca4b37b7a57e0cc310c1a8a08c449a954cc9e4bb1f99a88ec58f18da641f2bb","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/4ca4b37b7a57","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"e4118a10d2c95da41e62d9d4ea3219095c7defadf5467f3d1e8a260f6e345fac","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}}],"id":"56beb284fa798d4900e2ee0d"},{"_id":"56bebacb802ad54a00be21c4","name":"feature-11-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-11-log-rhythm","contextVersion":{"_id":"56bebacb802ad54a00be21b9","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"commit":"d0fc40ae21282721b49792b86cf09074259672cd","branch":"feature-11","lowerBranch":"feature-11","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-13T05:10:35.679Z","id":"56bebacb802ad54a00be21b9"},"shortHash":"eomy01","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c107e3b81ae245002d68ed","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:04:03.608Z","buildNumber":12135,"completed":"2016-02-14T23:04:03.634Z","failed":false,"created":"2016-02-14T23:04:03.174Z","contextVersions":["56bebacb802ad54a00be21b9"],"contexts":["56beb26d26e47e5800db3763"],"duration":26,"successful":true,"id":"56c107e3b81ae245002d68ed"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-13T05:10:35.951Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465","Created":"2016-02-14T23:13:31.174329382Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3675,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:13:31.614828835Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/resolv.conf","HostnamePath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/hostname","HostsPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/hosts","LogPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465-json.log","Name":"/adoring_hypatia","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"5c38993b6ad6","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=eomy01","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"87a71b9632b44fc1e2e58d495f06d8d05b5af6a134cf960f9568a4677e86225a","contextVersionId":"56bebacb802ad54a00be21b9","instanceId":"56bebacb802ad54a00be21c4","instanceName":"feature-11-log-rhythm","instanceShortHash":"eomy01","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"a83e5a014f9b119ff562fa5a4a021313e4e710852c48d13b450c6e43dde9d2e0","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]},"SandboxKey":"/var/run/docker/netns/a83e5a014f9b","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"1978bd1f0ac1fd523eaaf6502c04dd21d1ec186db9a29627e4865f4e68068367","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:02","Networks":{"bridge":{"EndpointID":"1978bd1f0ac1fd523eaaf6502c04dd21d1ec186db9a29627e4865f4e68068367","Gateway":"172.17.42.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:04:03.932Z","id":"56bebacb802ad54a00be21b9"},"network":{"hostIp":"10.21.0.1"},"contextVersions":[{"_id":"56bebacb802ad54a00be21b9","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"commit":"d0fc40ae21282721b49792b86cf09074259672cd","branch":"feature-11","lowerBranch":"feature-11","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-13T05:10:35.679Z","id":"56bebacb802ad54a00be21b9"}],"containers":[{"dockerContainer":"5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465","Created":"2016-02-14T23:13:31.174329382Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3675,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:13:31.614828835Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/resolv.conf","HostnamePath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/hostname","HostsPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/hosts","LogPath":"/docker/containers/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465/5c38993b6ad65b32bfef1f16c6727643cbc7f6fb66b225484b3bc470dadde465-json.log","Name":"/adoring_hypatia","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"5c38993b6ad6","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=eomy01","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"87a71b9632b44fc1e2e58d495f06d8d05b5af6a134cf960f9568a4677e86225a","contextVersionId":"56bebacb802ad54a00be21b9","instanceId":"56bebacb802ad54a00be21c4","instanceName":"feature-11-log-rhythm","instanceShortHash":"eomy01","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"a83e5a014f9b119ff562fa5a4a021313e4e710852c48d13b450c6e43dde9d2e0","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]},"SandboxKey":"/var/run/docker/netns/a83e5a014f9b","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"1978bd1f0ac1fd523eaaf6502c04dd21d1ec186db9a29627e4865f4e68068367","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:02","Networks":{"bridge":{"EndpointID":"1978bd1f0ac1fd523eaaf6502c04dd21d1ec186db9a29627e4865f4e68068367","Gateway":"172.17.42.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]}}],"id":"56bebacb802ad54a00be21c4"},{"_id":"56bebacc63eabb5600e5301d","name":"feature-12-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-12-log-rhythm","contextVersion":{"_id":"56bebacb63eabb5600e53011","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"commit":"d0fc40ae21282721b49792b86cf09074259672cd","branch":"feature-12","lowerBranch":"feature-12","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-13T05:10:35.747Z","id":"56bebacb63eabb5600e53011"},"shortHash":"ew6n71","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10a4b7f99fb5900f864ca","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:14:20.339Z","buildNumber":12137,"completed":"2016-02-14T23:14:20.370Z","failed":false,"created":"2016-02-14T23:14:19.905Z","contextVersions":["56bebacb63eabb5600e53011"],"contexts":["56beb26d26e47e5800db3763"],"duration":31,"successful":true,"id":"56c10a4b7f99fb5900f864ca"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-13T05:10:36.013Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37","Created":"2016-02-14T23:14:16.175807784Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":4199,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:14:16.610844144Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/resolv.conf","HostnamePath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/hostname","HostsPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/hosts","LogPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37-json.log","Name":"/happy_hodgkin","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"a3a3f36d614a","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=ew6n71","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"94afa5bebd9c1db6fb65964555cde9a86a15c0f7d7c9a665b2b757a7f26b2acf","contextVersionId":"56bebacb63eabb5600e53011","instanceId":"56bebacc63eabb5600e5301d","instanceName":"feature-12-log-rhythm","instanceShortHash":"ew6n71","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"5665ed3ce164eca4e6bcf5a5141f5012179ea5a2412719952d1d8ce22cf7e2f7","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]},"SandboxKey":"/var/run/docker/netns/5665ed3ce164","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"bfa17334c8aa51117e72a59eb7b7eed24f1d5de462c68e4ff79cf9016a2356cc","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:03","Networks":{"bridge":{"EndpointID":"bfa17334c8aa51117e72a59eb7b7eed24f1d5de462c68e4ff79cf9016a2356cc","Gateway":"172.17.42.1","IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:03"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:14:20.616Z","id":"56bebacb63eabb5600e53011"},"network":{"hostIp":"10.21.0.2"},"contextVersions":[{"_id":"56bebacb63eabb5600e53011","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"commit":"d0fc40ae21282721b49792b86cf09074259672cd","branch":"feature-12","lowerBranch":"feature-12","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-13T05:10:35.747Z","id":"56bebacb63eabb5600e53011"}],"containers":[{"dockerContainer":"a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37","Created":"2016-02-14T23:14:16.175807784Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":4199,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:14:16.610844144Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/resolv.conf","HostnamePath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/hostname","HostsPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/hosts","LogPath":"/docker/containers/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37/a3a3f36d614af15a6e6503ba0be766440502cdc6d76eaf3ffdfa682408becc37-json.log","Name":"/happy_hodgkin","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"a3a3f36d614a","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=ew6n71","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"94afa5bebd9c1db6fb65964555cde9a86a15c0f7d7c9a665b2b757a7f26b2acf","contextVersionId":"56bebacb63eabb5600e53011","instanceId":"56bebacc63eabb5600e5301d","instanceName":"feature-12-log-rhythm","instanceShortHash":"ew6n71","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"5665ed3ce164eca4e6bcf5a5141f5012179ea5a2412719952d1d8ce22cf7e2f7","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]},"SandboxKey":"/var/run/docker/netns/5665ed3ce164","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"bfa17334c8aa51117e72a59eb7b7eed24f1d5de462c68e4ff79cf9016a2356cc","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:03","Networks":{"bridge":{"EndpointID":"bfa17334c8aa51117e72a59eb7b7eed24f1d5de462c68e4ff79cf9016a2356cc","Gateway":"172.17.42.1","IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:03"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]}}],"id":"56bebacc63eabb5600e5301d"},{"_id":"56bebace542c0652006bb090","name":"feature-13-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-13-log-rhythm","contextVersion":{"_id":"56c10b0129bb74350078278f","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:21.525Z","dockerContainer":"7641951adde6b21172cf84a66a4c3308023f3768f65695141751d59d35dcb77a","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b0129bb74350078278f","containerStarted":"2016-02-14T23:17:01.525Z","completed":"2016-02-14T23:17:24.932Z","failed":false,"dockerImage":"d4d087652454","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b0129bb74350078278e","duration":3407},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"feature-13","lowerBranch":"feature-13","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:21.358Z","id":"56c10b0129bb74350078278f"},"shortHash":"e4owy2","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10b0129bb743500782791","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:17:21.507Z","buildNumber":12148,"completed":"2016-02-14T23:17:24.965Z","failed":false,"created":"2016-02-14T23:17:21.365Z","contextVersions":["56c10b0129bb74350078278f"],"contexts":["56beb26d26e47e5800db3763"],"duration":3458,"successful":true,"id":"56c10b0129bb743500782791"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-13T05:10:38.818Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d","Created":"2016-02-14T23:17:42.149539464Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8332,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.370064616Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"d4d087652454b14b3229ed8ca6e86a78a2a8af0a34720812201e0c55112d0642","ResolvConfPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/resolv.conf","HostnamePath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/hostname","HostsPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/hosts","LogPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d-json.log","Name":"/sad_meitner","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"5abcfafa69c7","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=e4owy2","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b0129bb74350078278f","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"a9f94f38e408021a1d0eb8d016cac7eb1e9b5a575f109e1cd0ef347a4c0a7961","contextVersionId":"56c10b0129bb74350078278f","instanceId":"56bebace542c0652006bb090","instanceName":"feature-13-log-rhythm","instanceShortHash":"e4owy2","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"b524f53ef09822ab10ca3b466b73361ce952401c3cae657bf505e98639503c96","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]},"SandboxKey":"/var/run/docker/netns/b524f53ef098","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"c8c2c993be6031b6aa796725dcf33b10c5c2db690b2a84a64b4695754ee85acd","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:05","Networks":{"bridge":{"EndpointID":"c8c2c993be6031b6aa796725dcf33b10c5c2db690b2a84a64b4695754ee85acd","Gateway":"172.17.42.1","IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:05"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:17:21.834Z","id":"56c10ae07f99fb5900f8656b"},"network":{"hostIp":"10.21.128.5"},"contextVersions":[{"_id":"56c10b0129bb74350078278f","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:21.525Z","dockerContainer":"7641951adde6b21172cf84a66a4c3308023f3768f65695141751d59d35dcb77a","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b0129bb74350078278f","containerStarted":"2016-02-14T23:17:01.525Z","completed":"2016-02-14T23:17:24.932Z","failed":false,"dockerImage":"d4d087652454","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b0129bb74350078278e","duration":3407},"advanced":false,"appCodeVersions":[{"commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","branch":"feature-13","lowerBranch":"feature-13","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","_id":"56beb26eac122d3b00caa2c6","privateKey":"Runnable/log-rhythm.key","publicKey":"Runnable/log-rhythm.key.pub","defaultBranch":"master","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:21.358Z","id":"56c10b0129bb74350078278f"}],"containers":[{"dockerContainer":"5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d","Created":"2016-02-14T23:17:42.149539464Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8332,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:43.370064616Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"d4d087652454b14b3229ed8ca6e86a78a2a8af0a34720812201e0c55112d0642","ResolvConfPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/resolv.conf","HostnamePath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/hostname","HostsPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/hosts","LogPath":"/docker/containers/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d/5abcfafa69c70f6d5496709c832d6e0e211f1eb5e4cd9b3f23aa827c5d3fc24d-json.log","Name":"/sad_meitner","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"5abcfafa69c7","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=e4owy2","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b0129bb74350078278f","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"a9f94f38e408021a1d0eb8d016cac7eb1e9b5a575f109e1cd0ef347a4c0a7961","contextVersionId":"56c10b0129bb74350078278f","instanceId":"56bebace542c0652006bb090","instanceName":"feature-13-log-rhythm","instanceShortHash":"e4owy2","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"b524f53ef09822ab10ca3b466b73361ce952401c3cae657bf505e98639503c96","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]},"SandboxKey":"/var/run/docker/netns/b524f53ef098","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"c8c2c993be6031b6aa796725dcf33b10c5c2db690b2a84a64b4695754ee85acd","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:05","Networks":{"bridge":{"EndpointID":"c8c2c993be6031b6aa796725dcf33b10c5c2db690b2a84a64b4695754ee85acd","Gateway":"172.17.42.1","IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:05"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]}}],"id":"56bebace542c0652006bb090"},{"_id":"56c0d820698b263e00437dab","name":"feature-14-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-14-log-rhythm","contextVersion":{"_id":"56c10b031ac0da3a00dc1a90","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.202.231:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:23.962Z","dockerContainer":"540fbf2b5d92ed2b21f57c4e94c7694c07d57bd16aacfe42c23d78e9da7a4422","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b031ac0da3a00dc1a90","containerStarted":"2016-02-14T23:17:03.901Z","completed":"2016-02-14T23:17:21.988Z","failed":false,"dockerImage":"cfaffd35456d","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b031ac0da3a00dc1a8f","duration":-1974},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-14","lowerBranch":"feature-14","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:23.797Z","id":"56c10b031ac0da3a00dc1a90"},"shortHash":"e38o32","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10b031ac0da3a00dc1a92","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:17:23.944Z","buildNumber":12149,"completed":"2016-02-14T23:17:22.004Z","failed":false,"created":"2016-02-14T23:17:23.803Z","contextVersions":["56c10b031ac0da3a00dc1a90"],"contexts":["56beb26d26e47e5800db3763"],"duration":-1940,"successful":true,"id":"56c10b031ac0da3a00dc1a92"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:40:16.380Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56","Created":"2016-02-14T23:17:39.133592395Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":6987,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:39.615077356Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"cfaffd35456db0980b1967076ed8216f7b1049cb2e53ffaa64ec61cf4c6e4bcc","ResolvConfPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/resolv.conf","HostnamePath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/hostname","HostsPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/hosts","LogPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56-json.log","Name":"/happy_meitner","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"3de3c13b3309","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=e38o32","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b031ac0da3a00dc1a90","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-202-231\"]","com-docker-swarm-id":"ffaf9dfe17207a43e1dd9831126d0ee026b0d5775d185407496b2310f6db778b","contextVersionId":"56c10b031ac0da3a00dc1a90","instanceId":"56c0d820698b263e00437dab","instanceName":"feature-14-log-rhythm","instanceShortHash":"e38o32","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"0418e8a96a398a1ffac68cc603ea10b428c0c3a265c31e5695ed2a702ca342a5","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]},"SandboxKey":"/var/run/docker/netns/0418e8a96a39","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"755b7660426d9ce3c7021810d8fb6a820c731c9c7d3ed9f1a5359c26f45263b7","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:06","Networks":{"bridge":{"EndpointID":"755b7660426d9ce3c7021810d8fb6a820c731c9c7d3ed9f1a5359c26f45263b7","Gateway":"172.17.42.1","IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:06"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:17:24.272Z","id":"56c10addd7b43c2b00b452ce"},"network":{"hostIp":"10.21.0.5"},"contextVersions":[{"_id":"56c10b031ac0da3a00dc1a90","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.202.231:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:23.962Z","dockerContainer":"540fbf2b5d92ed2b21f57c4e94c7694c07d57bd16aacfe42c23d78e9da7a4422","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b031ac0da3a00dc1a90","containerStarted":"2016-02-14T23:17:03.901Z","completed":"2016-02-14T23:17:21.988Z","failed":false,"dockerImage":"cfaffd35456d","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b031ac0da3a00dc1a8f","duration":-1974},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-14","lowerBranch":"feature-14","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:23.797Z","id":"56c10b031ac0da3a00dc1a90"}],"containers":[{"dockerContainer":"3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56","Created":"2016-02-14T23:17:39.133592395Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":6987,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:17:39.615077356Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"cfaffd35456db0980b1967076ed8216f7b1049cb2e53ffaa64ec61cf4c6e4bcc","ResolvConfPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/resolv.conf","HostnamePath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/hostname","HostsPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/hosts","LogPath":"/docker/containers/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56/3de3c13b33092d4e2a0cec31595bf448f0b3c6b4ca8fda39f76ff330d86e2a56-json.log","Name":"/happy_meitner","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"3de3c13b3309","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=e38o32","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b031ac0da3a00dc1a90","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-202-231\"]","com-docker-swarm-id":"ffaf9dfe17207a43e1dd9831126d0ee026b0d5775d185407496b2310f6db778b","contextVersionId":"56c10b031ac0da3a00dc1a90","instanceId":"56c0d820698b263e00437dab","instanceName":"feature-14-log-rhythm","instanceShortHash":"e38o32","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"0418e8a96a398a1ffac68cc603ea10b428c0c3a265c31e5695ed2a702ca342a5","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]},"SandboxKey":"/var/run/docker/netns/0418e8a96a39","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"755b7660426d9ce3c7021810d8fb6a820c731c9c7d3ed9f1a5359c26f45263b7","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:06","Networks":{"bridge":{"EndpointID":"755b7660426d9ce3c7021810d8fb6a820c731c9c7d3ed9f1a5359c26f45263b7","Gateway":"172.17.42.1","IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:06"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]}}],"id":"56c0d820698b263e00437dab"},{"_id":"56c0d82a0ee09e3d003c30b1","name":"feature-16-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-16-log-rhythm","contextVersion":{"_id":"56c0d82a0ee09e3d003c30a5","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-16","lowerBranch":"feature-16","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:40:26.157Z","id":"56c0d82a0ee09e3d003c30a5"},"shortHash":"eq60l1","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10a577f99fb5900f864f0","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:14:31.577Z","buildNumber":12141,"completed":"2016-02-14T23:14:31.602Z","failed":false,"created":"2016-02-14T23:14:31.157Z","contextVersions":["56c0d82a0ee09e3d003c30a5"],"contexts":["56beb26d26e47e5800db3763"],"duration":25,"successful":true,"id":"56c10a577f99fb5900f864f0"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:40:26.392Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e","Created":"2016-02-14T23:15:12.449148796Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":5227,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:12.846752577Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/resolv.conf","HostnamePath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/hostname","HostsPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/hosts","LogPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e-json.log","Name":"/elated_gates","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"3060e8f0b143","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=eq60l1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"b18da8f1088cdaeae497f0cae78f26c645dea37e76dec80edf388f15879d9de5","contextVersionId":"56c0d82a0ee09e3d003c30a5","instanceId":"56c0d82a0ee09e3d003c30b1","instanceName":"feature-16-log-rhythm","instanceShortHash":"eq60l1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"717e78aa9526549ef93299afbb7c0ed96692eabe1e6f2310ddf79f4c6c9a4906","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]},"SandboxKey":"/var/run/docker/netns/717e78aa9526","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"3a0a7fa4b4c74dd2426520fbc9e817545e2b59f1d914db37b7d7ce0b76ff2160","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:05","Networks":{"bridge":{"EndpointID":"3a0a7fa4b4c74dd2426520fbc9e817545e2b59f1d914db37b7d7ce0b76ff2160","Gateway":"172.17.42.1","IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:05"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:14:31.842Z","id":"56c0d82a0ee09e3d003c30a5"},"network":{"hostIp":"10.21.0.4"},"contextVersions":[{"_id":"56c0d82a0ee09e3d003c30a5","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-16","lowerBranch":"feature-16","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:40:26.157Z","id":"56c0d82a0ee09e3d003c30a5"}],"containers":[{"dockerContainer":"3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e","Created":"2016-02-14T23:15:12.449148796Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":5227,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:12.846752577Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/resolv.conf","HostnamePath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/hostname","HostsPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/hosts","LogPath":"/docker/containers/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e/3060e8f0b143cd3d43d987d237c0e3454367f4d2e94248111bb480cb2254c31e-json.log","Name":"/elated_gates","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"3060e8f0b143","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=eq60l1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"b18da8f1088cdaeae497f0cae78f26c645dea37e76dec80edf388f15879d9de5","contextVersionId":"56c0d82a0ee09e3d003c30a5","instanceId":"56c0d82a0ee09e3d003c30b1","instanceName":"feature-16-log-rhythm","instanceShortHash":"eq60l1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"717e78aa9526549ef93299afbb7c0ed96692eabe1e6f2310ddf79f4c6c9a4906","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]},"SandboxKey":"/var/run/docker/netns/717e78aa9526","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"3a0a7fa4b4c74dd2426520fbc9e817545e2b59f1d914db37b7d7ce0b76ff2160","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:05","Networks":{"bridge":{"EndpointID":"3a0a7fa4b4c74dd2426520fbc9e817545e2b59f1d914db37b7d7ce0b76ff2160","Gateway":"172.17.42.1","IPAddress":"172.17.0.5","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:05"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32782"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32783"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32781"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32780"}]}}],"id":"56c0d82a0ee09e3d003c30b1"},{"_id":"56c0d8348b0c2a4700f17edb","name":"feature-15-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-15-log-rhythm","contextVersion":{"_id":"56c10b261193403100538c07","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.202.231:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:58.572Z","dockerContainer":"141247d4d0ce9f67f6e4a9ee8d232f4c2e383b3c9421c04f4c211cf70c1e2060","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b261193403100538c07","containerStarted":"2016-02-14T23:17:37.288Z","completed":"2016-02-14T23:17:44.723Z","failed":false,"dockerImage":"c98413486207","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b261193403100538c06","duration":-13849},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-15","lowerBranch":"feature-15","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:58.414Z","id":"56c10b261193403100538c07"},"shortHash":"2lmwqe","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10b261193403100538c09","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:17:58.560Z","buildNumber":12152,"completed":"2016-02-14T23:17:44.733Z","failed":false,"created":"2016-02-14T23:17:58.420Z","contextVersions":["56c10b261193403100538c07"],"contexts":["56beb26d26e47e5800db3763"],"duration":-13827,"successful":true,"id":"56c10b261193403100538c09"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:40:36.907Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b","Created":"2016-02-14T23:18:01.862816633Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8666,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:18:02.431642771Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c98413486207469cac9fb2291ae554f59b1de5f5e52f494dcad1153fa78f44ea","ResolvConfPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/resolv.conf","HostnamePath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/hostname","HostsPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/hosts","LogPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b-json.log","Name":"/small_lumiere","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"23ecfe652894","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=2lmwqe","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b261193403100538c07","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-202-231\"]","com-docker-swarm-id":"2f18649bbf733c67ac7cea6ca22c785d40c78bcc0c25ecff328136d423ac218b","contextVersionId":"56c10b261193403100538c07","instanceId":"56c0d8348b0c2a4700f17edb","instanceName":"feature-15-log-rhythm","instanceShortHash":"2lmwqe","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"aed5ed007a530b37270d565b456b53b720c3c239ba26c57b45d267444d06e221","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32790"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32791"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32789"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32788"}]},"SandboxKey":"/var/run/docker/netns/aed5ed007a53","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"25d76fd8a780e4ae5ccd4b9acf3506ce38c60dd698f16d4e4154fd29ee2aed04","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.8","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:08","Networks":{"bridge":{"EndpointID":"25d76fd8a780e4ae5ccd4b9acf3506ce38c60dd698f16d4e4154fd29ee2aed04","Gateway":"172.17.42.1","IPAddress":"172.17.0.8","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:08"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32790"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32791"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32789"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32788"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:17:58.874Z","id":"56c10b065f24243d006674f8"},"network":{"hostIp":"10.21.0.6"},"contextVersions":[{"_id":"56c10b261193403100538c07","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.202.231:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:17:58.572Z","dockerContainer":"141247d4d0ce9f67f6e4a9ee8d232f4c2e383b3c9421c04f4c211cf70c1e2060","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b261193403100538c07","containerStarted":"2016-02-14T23:17:37.288Z","completed":"2016-02-14T23:17:44.723Z","failed":false,"dockerImage":"c98413486207","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10b261193403100538c06","duration":-13849},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-15","lowerBranch":"feature-15","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:17:58.414Z","id":"56c10b261193403100538c07"}],"containers":[{"dockerContainer":"23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b","Created":"2016-02-14T23:18:01.862816633Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":8666,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:18:02.431642771Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"c98413486207469cac9fb2291ae554f59b1de5f5e52f494dcad1153fa78f44ea","ResolvConfPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/resolv.conf","HostnamePath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/hostname","HostsPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/hosts","LogPath":"/docker/containers/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b/23ecfe6528946c34bac8351926c1822b6418b2feb1713a73f82b9b75c2713a0b-json.log","Name":"/small_lumiere","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"23ecfe652894","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=2lmwqe","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10b261193403100538c07","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-202-231\"]","com-docker-swarm-id":"2f18649bbf733c67ac7cea6ca22c785d40c78bcc0c25ecff328136d423ac218b","contextVersionId":"56c10b261193403100538c07","instanceId":"56c0d8348b0c2a4700f17edb","instanceName":"feature-15-log-rhythm","instanceShortHash":"2lmwqe","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"aed5ed007a530b37270d565b456b53b720c3c239ba26c57b45d267444d06e221","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32790"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32791"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32789"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32788"}]},"SandboxKey":"/var/run/docker/netns/aed5ed007a53","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"25d76fd8a780e4ae5ccd4b9acf3506ce38c60dd698f16d4e4154fd29ee2aed04","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.8","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:08","Networks":{"bridge":{"EndpointID":"25d76fd8a780e4ae5ccd4b9acf3506ce38c60dd698f16d4e4154fd29ee2aed04","Gateway":"172.17.42.1","IPAddress":"172.17.0.8","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:08"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32790"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32791"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32789"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32788"}]}}],"id":"56c0d8348b0c2a4700f17edb"},{"_id":"56c0d852698b263e00437dc4","name":"feature-18-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-18-log-rhythm","contextVersion":{"_id":"56c0d851698b263e00437db8","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-18","lowerBranch":"feature-18","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:05.960Z","id":"56c0d851698b263e00437db8"},"shortHash":"173qje","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10a5a7f99fb5900f86503","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:14:34.448Z","buildNumber":12142,"completed":"2016-02-14T23:14:34.472Z","failed":false,"created":"2016-02-14T23:14:34.034Z","contextVersions":["56c0d851698b263e00437db8"],"contexts":["56beb26d26e47e5800db3763"],"duration":24,"successful":true,"id":"56c10a5a7f99fb5900f86503"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:41:06.197Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65","Created":"2016-02-14T23:15:14.033535234Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3579,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:14.793187242Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/resolv.conf","HostnamePath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/hostname","HostsPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/hosts","LogPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65-json.log","Name":"/angry_carson","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"bcdaced58c20","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=173qje","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"6e37163a6d5e52fa281a51173007205e9cb39ce878ff2339be6b69203d6f3060","contextVersionId":"56c0d851698b263e00437db8","instanceId":"56c0d852698b263e00437dc4","instanceName":"feature-18-log-rhythm","instanceShortHash":"173qje","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"bf6ff5736cf226c8781f345f72b4aa3eb98c75e4b05cf20fa91d7f04336275fa","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]},"SandboxKey":"/var/run/docker/netns/bf6ff5736cf2","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"3c19c3ff5e60d6bcdc33b4688a2a03b2e53f3e84a6eb11c87d7b75ada4bb46cb","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:03","Networks":{"bridge":{"EndpointID":"3c19c3ff5e60d6bcdc33b4688a2a03b2e53f3e84a6eb11c87d7b75ada4bb46cb","Gateway":"172.17.42.1","IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:03"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:14:34.727Z","id":"56c0d851698b263e00437db8"},"network":{"hostIp":"10.21.128.3"},"contextVersions":[{"_id":"56c0d851698b263e00437db8","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-18","lowerBranch":"feature-18","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:05.960Z","id":"56c0d851698b263e00437db8"}],"containers":[{"dockerContainer":"bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65","Created":"2016-02-14T23:15:14.033535234Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3579,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:14.793187242Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/resolv.conf","HostnamePath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/hostname","HostsPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/hosts","LogPath":"/docker/containers/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65/bcdaced58c20210c4f65497f4088657f793c99d640e9b769973aea7370802c65-json.log","Name":"/angry_carson","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"bcdaced58c20","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=173qje","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"6e37163a6d5e52fa281a51173007205e9cb39ce878ff2339be6b69203d6f3060","contextVersionId":"56c0d851698b263e00437db8","instanceId":"56c0d852698b263e00437dc4","instanceName":"feature-18-log-rhythm","instanceShortHash":"173qje","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"bf6ff5736cf226c8781f345f72b4aa3eb98c75e4b05cf20fa91d7f04336275fa","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]},"SandboxKey":"/var/run/docker/netns/bf6ff5736cf2","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"3c19c3ff5e60d6bcdc33b4688a2a03b2e53f3e84a6eb11c87d7b75ada4bb46cb","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:03","Networks":{"bridge":{"EndpointID":"3c19c3ff5e60d6bcdc33b4688a2a03b2e53f3e84a6eb11c87d7b75ada4bb46cb","Gateway":"172.17.42.1","IPAddress":"172.17.0.3","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:03"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32774"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32775"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32773"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32772"}]}}],"id":"56c0d852698b263e00437dc4"},{"_id":"56c0d85281d67c49009d95db","name":"feature-19-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-19-log-rhythm","contextVersion":{"_id":"56c0d85281d67c49009d95cf","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-19","lowerBranch":"feature-19","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:06.057Z","id":"56c0d85281d67c49009d95cf"},"shortHash":"2gmq82","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10a5c7f99fb5900f86511","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:14:36.992Z","buildNumber":12143,"completed":"2016-02-14T23:14:37.033Z","failed":false,"created":"2016-02-14T23:14:36.579Z","contextVersions":["56c0d85281d67c49009d95cf"],"contexts":["56beb26d26e47e5800db3763"],"duration":41,"successful":true,"id":"56c10a5c7f99fb5900f86511"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:41:06.263Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920","Created":"2016-02-14T23:14:32.842782471Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":4705,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:14:33.302629838Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/resolv.conf","HostnamePath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/hostname","HostsPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/hosts","LogPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920-json.log","Name":"/jovial_wing","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"7b2aa01d1753","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=2gmq82","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"1510d1aa5c808a36e7dd8bff3b82041c58bcafe0cb40669a3400ce58a047cf96","contextVersionId":"56c0d85281d67c49009d95cf","instanceId":"56c0d85281d67c49009d95db","instanceName":"feature-19-log-rhythm","instanceShortHash":"2gmq82","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"dc5f5ee4ab3bce532a259d0ea0d966026c8c74e52bc7324c7c80e1e3785ca10e","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/dc5f5ee4ab3b","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"cc0c125a8476b4ef7f79bb853724650f53cefe448ae44577102612ffae556df0","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"cc0c125a8476b4ef7f79bb853724650f53cefe448ae44577102612ffae556df0","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:14:37.276Z","id":"56c0d85281d67c49009d95cf"},"network":{"hostIp":"10.21.0.3"},"contextVersions":[{"_id":"56c0d85281d67c49009d95cf","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-19","lowerBranch":"feature-19","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:06.057Z","id":"56c0d85281d67c49009d95cf"}],"containers":[{"dockerContainer":"7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920","dockerHost":"http://10.12.202.231:4242","inspect":{"Id":"7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920","Created":"2016-02-14T23:14:32.842782471Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":4705,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:14:33.302629838Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/resolv.conf","HostnamePath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/hostname","HostsPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/hosts","LogPath":"/docker/containers/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920/7b2aa01d1753841caabeb4ab3dbc803d27a822b411c646626a7c2d1422445920-json.log","Name":"/jovial_wing","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"7b2aa01d1753","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=2gmq82","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"1510d1aa5c808a36e7dd8bff3b82041c58bcafe0cb40669a3400ce58a047cf96","contextVersionId":"56c0d85281d67c49009d95cf","instanceId":"56c0d85281d67c49009d95db","instanceName":"feature-19-log-rhythm","instanceShortHash":"2gmq82","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"dc5f5ee4ab3bce532a259d0ea0d966026c8c74e52bc7324c7c80e1e3785ca10e","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]},"SandboxKey":"/var/run/docker/netns/dc5f5ee4ab3b","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"cc0c125a8476b4ef7f79bb853724650f53cefe448ae44577102612ffae556df0","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:04","Networks":{"bridge":{"EndpointID":"cc0c125a8476b4ef7f79bb853724650f53cefe448ae44577102612ffae556df0","Gateway":"172.17.42.1","IPAddress":"172.17.0.4","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:04"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32778"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32779"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32777"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32776"}]}}],"id":"56c0d85281d67c49009d95db"},{"_id":"56c0d856698b263e00437dd4","name":"feature-20-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-20-log-rhythm","contextVersion":{"_id":"56c0d856698b263e00437dc8","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-20","lowerBranch":"feature-20","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:10.056Z","id":"56c0d856698b263e00437dc8"},"shortHash":"ey6jd2","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10a5f7f99fb5900f86521","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:14:39.834Z","buildNumber":12144,"completed":"2016-02-14T23:14:39.866Z","failed":false,"created":"2016-02-14T23:14:39.413Z","contextVersions":["56c0d856698b263e00437dc8"],"contexts":["56beb26d26e47e5800db3763"],"duration":32,"successful":true,"id":"56c10a5f7f99fb5900f86521"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T19:41:10.201Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061","Created":"2016-02-14T23:15:13.904350231Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3538,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:14.56016595Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/resolv.conf","HostnamePath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/hostname","HostsPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/hosts","LogPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061-json.log","Name":"/kickass_hoover","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"7c6541aee90e","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=ey6jd2","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"960a6a65b7467161e86d738e4b8fc1201ac0fe4ce0a2b0bc7477093cbff80a5c","contextVersionId":"56c0d856698b263e00437dc8","instanceId":"56c0d856698b263e00437dd4","instanceName":"feature-20-log-rhythm","instanceShortHash":"ey6jd2","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"cfea23adec6a4c1f589dfc56f806b46dc4f250a760fc2b54fbe7a99b8c3fa997","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]},"SandboxKey":"/var/run/docker/netns/cfea23adec6a","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"481c0d59263c2bde3f370f762e207fa8f69e0deb6d7a8e9c0adf5c5cf1427224","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:02","Networks":{"bridge":{"EndpointID":"481c0d59263c2bde3f370f762e207fa8f69e0deb6d7a8e9c0adf5c5cf1427224","Gateway":"172.17.42.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:14:40.125Z","id":"56c0d856698b263e00437dc8"},"network":{"hostIp":"10.21.128.2"},"contextVersions":[{"_id":"56c0d856698b263e00437dc8","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.220.53:4242","build":{"dockerImage":"caa20c628002","failed":false,"completed":"2016-02-10T21:44:40.114Z","containerStarted":"2016-02-10T21:44:30.100Z","dockerTag":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","dockerContainer":"3fb2a92752b97c44b2e8dd820bc6a42aa7acd4bfcf9ae1704fdf44d4d8019e46","hash":"99544bbe5164d68816c8e6c1a93cf6f3","started":"2016-02-10T21:44:43.345Z","triggeredBy":{"github":2194285},"message":"manual","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56bbaf379eae4d2000c3ecea","duration":-3231},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-20","lowerBranch":"feature-20","commit":"d0fc40ae21282721b49792b86cf09074259672cd","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T19:41:10.056Z","id":"56c0d856698b263e00437dc8"}],"containers":[{"dockerContainer":"7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061","Created":"2016-02-14T23:15:13.904350231Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":3538,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:15:14.56016595Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"edb65025dbf6b562fca25f494e171d723888efc0ec1dddfa2cae7791116c4b96","ResolvConfPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/resolv.conf","HostnamePath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/hostname","HostsPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/hosts","LogPath":"/docker/containers/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061/7c6541aee90ed35179ccf3b66d597a5a83d9143d3d079931b1825575c4480061-json.log","Name":"/kickass_hoover","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"7c6541aee90e","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=ey6jd2","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56b921700649ba1e00d2abc7:56bbaf379eae4d2000c3eceb","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-220-53\"]","com-docker-swarm-id":"960a6a65b7467161e86d738e4b8fc1201ac0fe4ce0a2b0bc7477093cbff80a5c","contextVersionId":"56c0d856698b263e00437dc8","instanceId":"56c0d856698b263e00437dd4","instanceName":"feature-20-log-rhythm","instanceShortHash":"ey6jd2","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"cfea23adec6a4c1f589dfc56f806b46dc4f250a760fc2b54fbe7a99b8c3fa997","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]},"SandboxKey":"/var/run/docker/netns/cfea23adec6a","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"481c0d59263c2bde3f370f762e207fa8f69e0deb6d7a8e9c0adf5c5cf1427224","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:02","Networks":{"bridge":{"EndpointID":"481c0d59263c2bde3f370f762e207fa8f69e0deb6d7a8e9c0adf5c5cf1427224","Gateway":"172.17.42.1","IPAddress":"172.17.0.2","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:02"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32770"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32771"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32769"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32768"}]}}],"id":"56c0d856698b263e00437dd4"},{"_id":"56c10e92e820c84f00be9447","name":"feature-17-log-rhythm","owner":{"gravatar":"https://avatars.githubusercontent.com/u/2828361?v=3","username":"Runnable","github":2828361},"parent":"18qdo1","lowerName":"feature-17-log-rhythm","contextVersion":{"_id":"56c10ee9686f242b00f25d3a","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:34:01.978Z","dockerContainer":"4fda88b1f3a3c05219dbdafe0377b13b3fb30e779e7c157e1fc65984a6ac5d10","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10ee9686f242b00f25d3a","containerStarted":"2016-02-14T23:33:40.805Z","completed":"2016-02-14T23:33:48.452Z","failed":false,"dockerImage":"a5d2f9657c45","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10ee9686f242b00f25d39","duration":-13526},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-17","lowerBranch":"feature-17","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:34:01.802Z","id":"56c10ee9686f242b00f25d3a"},"shortHash":"1jm8z1","createdBy":{"gravatar":"https://avatars.githubusercontent.com/u/495765?v=3","username":"Myztiq","github":495765},"build":{"_id":"56c10ee9686f242b00f25d3c","createdBy":{"github":495765},"owner":{"github":2828361},"__v":0,"started":"2016-02-14T23:34:01.954Z","buildNumber":12154,"completed":"2016-02-14T23:33:48.479Z","failed":false,"created":"2016-02-14T23:34:01.812Z","contextVersions":["56c10ee9686f242b00f25d3a"],"contexts":["56beb26d26e47e5800db3763"],"duration":-13475,"successful":true,"id":"56c10ee9686f242b00f25d3c"},"autoForked":true,"masterPod":false,"env":[],"created":"2016-02-14T23:32:34.942Z","locked":false,"public":false,"__v":0,"container":{"dockerContainer":"ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20","Created":"2016-02-14T23:34:05.654091934Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":15431,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:34:06.312619335Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"a5d2f9657c45c76411bd4f7e42d422b8ff17f9a1442c411db9634610dbc0310a","ResolvConfPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/resolv.conf","HostnamePath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/hostname","HostsPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/hosts","LogPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20-json.log","Name":"/silly_dijkstra","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"ad8486a1369c","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=1jm8z1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10ee9686f242b00f25d3a","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"2b5087e30a1e7eaffcc4f3f21a288100f40a67c77ea84724aaaf00155880f4dc","contextVersionId":"56c10ee9686f242b00f25d3a","instanceId":"56c10e92e820c84f00be9447","instanceName":"feature-17-log-rhythm","instanceShortHash":"1jm8z1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4fa73b6b252d17871b7125ea8fa34721731c7f1d687c62c377b0b161633aa292","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]},"SandboxKey":"/var/run/docker/netns/4fa73b6b252d","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"9ca3ec7e10b591e1b06d34d67e0d352e69b41b7981b9d71818bafa201ee130d6","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:06","Networks":{"bridge":{"EndpointID":"9ca3ec7e10b591e1b06d34d67e0d352e69b41b7981b9d71818bafa201ee130d6","Gateway":"172.17.42.1","IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:06"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]}},"lastBuiltSimpleContextVersion":{"created":"2016-02-14T23:34:02.286Z","id":"56c10e92e820c84f00be9439"},"network":{"hostIp":"10.21.128.6"},"contextVersions":[{"_id":"56c10ee9686f242b00f25d3a","infraCodeVersion":"56beb26dac122d3b00caa2c3","createdBy":{"github":495765},"context":"56beb26d26e47e5800db3763","owner":{"github":2828361},"__v":0,"state":"build_started","dockerHost":"http://10.12.219.225:4242","build":{"message":"Manual build","triggeredBy":{"github":495765},"started":"2016-02-14T23:34:01.978Z","dockerContainer":"4fda88b1f3a3c05219dbdafe0377b13b3fb30e779e7c157e1fc65984a6ac5d10","dockerTag":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10ee9686f242b00f25d3a","containerStarted":"2016-02-14T23:33:40.805Z","completed":"2016-02-14T23:33:48.452Z","failed":false,"dockerImage":"a5d2f9657c45","triggeredAction":{"manual":true,"appCodeVersion":{"commitLog":[]}},"_id":"56c10ee9686f242b00f25d39","duration":-13526},"advanced":false,"appCodeVersions":[{"defaultBranch":"master","publicKey":"Runnable/log-rhythm.key.pub","privateKey":"Runnable/log-rhythm.key","_id":"56beb26eac122d3b00caa2c6","repo":"Runnable/log-rhythm","lowerRepo":"runnable/log-rhythm","branch":"feature-17","lowerBranch":"feature-17","commit":"47b9088e4a98435f70c96d5899be64a48da6e66c","useLatest":false,"transformRules":{"rename":[],"replace":[],"exclude":[]}}],"dockRemoved":false,"created":"2016-02-14T23:34:01.802Z","id":"56c10ee9686f242b00f25d3a"}],"containers":[{"dockerContainer":"ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20","dockerHost":"http://10.12.219.225:4242","inspect":{"Id":"ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20","Created":"2016-02-14T23:34:05.654091934Z","Path":"/bin/sh","Args":["-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"State":{"Status":"running","Running":true,"Paused":false,"Restarting":false,"OOMKilled":false,"Dead":false,"Pid":15431,"ExitCode":0,"Error":"","StartedAt":"2016-02-14T23:34:06.312619335Z","FinishedAt":"0001-01-01T00:00:00Z"},"Image":"a5d2f9657c45c76411bd4f7e42d422b8ff17f9a1442c411db9634610dbc0310a","ResolvConfPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/resolv.conf","HostnamePath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/hostname","HostsPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/hosts","LogPath":"/docker/containers/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20/ad8486a1369c963b441219b2013f523e56385aca8bff7a1a00564331f950dd20-json.log","Name":"/silly_dijkstra","RestartCount":0,"Driver":"aufs","ExecDriver":"native-0.2","MountLabel":"","ProcessLabel":"","AppArmorProfile":"","ExecIDs":null,"HostConfig":{"Binds":null,"ContainerIDFile":"","LxcConf":null,"Memory":512000000,"MemoryReservation":0,"MemorySwap":-1,"KernelMemory":0,"CpuShares":0,"CpuPeriod":0,"CpusetCpus":"","CpusetMems":"","CpuQuota":0,"BlkioWeight":0,"OomKillDisable":false,"MemorySwappiness":null,"Privileged":false,"PortBindings":null,"Links":null,"PublishAllPorts":true,"Dns":null,"DnsOptions":null,"DnsSearch":null,"ExtraHosts":null,"VolumesFrom":null,"Devices":null,"NetworkMode":"default","IpcMode":"","PidMode":"","UTSMode":"","CapAdd":null,"CapDrop":null,"GroupAdd":null,"RestartPolicy":{"Name":"","MaximumRetryCount":0},"SecurityOpt":null,"ReadonlyRootfs":false,"Ulimits":null,"LogConfig":{"Type":"json-file"},"CgroupParent":"","ConsoleSize":[0,0],"VolumeDriver":""},"GraphDriver":{"Name":"aufs","Data":null},"Mounts":[],"Config":{"Hostname":"ad8486a1369c","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["RUNNABLE_CONTAINER_ID=1jm8z1","PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NPM_CONFIG_LOGLEVEL=info","NODE_VERSION=4.2.3"],"Cmd":["/bin/sh","-c","for i in {1..10}; do grep -q ethwe /proc/net/dev && break; sleep 1; test \"$i\" = \"10\" && echo Runnable: network failed && exit 55; done;/log-rhythm/run.sh 100 100; sleep 9999999"],"Image":"registry.runnable.com/2828361/56beb26d26e47e5800db3763:56c10ee9686f242b00f25d3a","Volumes":null,"WorkingDir":"/log-rhythm","Entrypoint":null,"OnBuild":null,"Labels":{"com-docker-swarm-constraints":"[\"org==2828361\",\"node==~ip-10-12-219-225\"]","com-docker-swarm-id":"2b5087e30a1e7eaffcc4f3f21a288100f40a67c77ea84724aaaf00155880f4dc","contextVersionId":"56c10ee9686f242b00f25d3a","instanceId":"56c10e92e820c84f00be9447","instanceName":"feature-17-log-rhythm","instanceShortHash":"1jm8z1","ownerUsername":"Runnable","sessionUserGithubId":"495765","tid":"","type":"user-container"}},"NetworkSettings":{"Bridge":"","SandboxID":"4fa73b6b252d17871b7125ea8fa34721731c7f1d687c62c377b0b161633aa292","HairpinMode":false,"LinkLocalIPv6Address":"","LinkLocalIPv6PrefixLen":0,"Ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]},"SandboxKey":"/var/run/docker/netns/4fa73b6b252d","SecondaryIPAddresses":null,"SecondaryIPv6Addresses":null,"EndpointID":"9ca3ec7e10b591e1b06d34d67e0d352e69b41b7981b9d71818bafa201ee130d6","Gateway":"172.17.42.1","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","MacAddress":"02:42:ac:11:00:06","Networks":{"bridge":{"EndpointID":"9ca3ec7e10b591e1b06d34d67e0d352e69b41b7981b9d71818bafa201ee130d6","Gateway":"172.17.42.1","IPAddress":"172.17.0.6","IPPrefixLen":16,"IPv6Gateway":"","GlobalIPv6Address":"","GlobalIPv6PrefixLen":0,"MacAddress":"02:42:ac:11:00:06"}}}},"ports":{"3000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32786"}],"80/tcp":[{"HostIp":"0.0.0.0","HostPort":"32787"}],"8000/tcp":[{"HostIp":"0.0.0.0","HostPort":"32785"}],"8080/tcp":[{"HostIp":"0.0.0.0","HostPort":"32784"}]}}],"id":"56c10e92e820c84f00be9447"}])
    }
  })

/**
 *  Creates a new instance for the provided build.
 *  @param body.build - Id of the Build to build an instance off of
 *  @param body.name - name of the instance
 *  @param body.parent - id of the parent instance
 *  @event POST rest/instances
 *  @memberof module:rest/instances */
app.post('/instances/',
  requestTrace('POST_INSTANCES'),
  mw.body('build').require().validate(validations.isObjectId),
  mw.body(
    'autoForked',
    'build',
    'env',
    'isIsolationGroupMaster',
    'isolated',
    'masterPod',
    'name',
    'owner',
    'parent'
  ).pick(),
  // validate body types
  mw.body('owner.github').require()
    .then(
      mw.body('owner.github').number(),
      mw.req('isInternalRequest').require() // skip owner check if internal
        .else(me.isOwnerOf('body'))),
  bodyValidations,
  // default values for owner.github if not provided - must happen after validations!
  mw.body('owner.github').require()
    .else(
      mw.body().set('owner', 'build.owner')),
  mw.body('name').require()
    .else( // if name is not provided generate one
      // this must occur after owner check/set
      instanceCounter.nextForOwner('body.owner'),
      function (req, res, next) {
        req.instanceName = 'Instance' + req.instanceCounter
        next()
      },
      mw.body().set('name', 'instanceName')),
  instanceCounter.nextHash(),
  mw.req().set('nextHash', 'instanceCounter'),
  instances.create({
    shortHash: 'nextHash',
    createdBy: { github: 'sessionUser.accounts.github.id' },
    build: 'build._id'
  }),
  // get owner username
  mw.req().set('user', 'sessionUser'),
  users.model.findGithubUserByGithubId('body.owner.github'),
  checkFound('user', 'Owner not found'),
  mw.req().set('ownerUsername', 'user.login'),
  findBuildContextVersion,
  // without toJSON - mongoose inf loops.
  mw.body().set('contextVersion', 'contextVersion.toJSON()'),
  instances.model.set('body'),
  instances.model.upsertIntoGraph(),
  instances.model.setDependenciesFromEnvironment('ownerUsername'),
  // If the build has completed, but hasn't failed, create the container
  builds.findById('build._id'), // to avoid race with build route!
  instances.model.save(),
  mw.req('build.successful').validate(validations.equals(true))
    .then(
      function (req, res, next) {
        rabbitMQ.createInstanceContainer({
          instanceId: req.instance._id,
          contextVersionId: req.build.contextVersions[0],
          sessionUserGithubId: req.sessionUser.accounts.github.id,
          ownerUsername: req.ownerUsername
        })
        next()
      }),
  // If the build hasn't finished yet, this will deploy when it finishes
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  instances.model.populateModels(),
  messenger.emitInstanceUpdate('instance', 'post'),
  mw.res.send(201, 'instance'))

/** Get in a instance
 *  @event GET rest/instances/:id
 *  @memberof module:rest/instances */
app.get('/instances/:id',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    instances.model.isPublic(),
    me.isModerator),
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  instances.model.populateModels(),
  mw.res.json('instance'))

/**
 * Polling route used by frontend to determine if a new build was pushed
 *  @event GET rest/instances/:id/containers
 *  @memberof module:rest/instances/:id/containers */
app.get('/instances/:id/build',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  mw.res.json('instance.build')) // buildId as string

/** Route for redeploying an instance with a new build.  This route should first
 *  @event PATCH rest/instances/:id
 *  @memberof module:rest/instances */
app.patch('/instances/:id',
  requestTrace('PATCH_INSTANCES_ID'),
  logger(['body'], 'PATCH_INSTANCES_ID', 'info'),
  findInstance,
  mw.req().set('origInstance', 'instance'),
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  // Check for non-changes
  mw.body('build').validate(validations.equals('instance.build.toString()'))
    .then(
      mw.body().unset('build')),
  mw.body({
    or: [ 'public', 'build', 'env', 'locked', 'container', 'masterPod',
      'isolated', 'isIsolationGroupMaster', 'ipWhitelist' ]
  }).require().pick(),
  bodyValidations,
  mw.body('build').require()
    .then( // build was updated
      logger(['body'], 'ROUTE: build.require()', 'trace'),
      findBuildContextVersion,
      // save lastBuiltSimpleContextVersion if eligible
      mw.req().set('oldContextVersion', 'instance.contextVersion'),
      mw.req('oldContextVersion.advanced').require().validate(validations.equals(false))
        .then(
          function (req, res, next) {
            var oldCvId = keypather.get(req, 'oldContextVersion._id')
            req.body.lastBuiltSimpleContextVersion = {
              id: oldCvId,
              created: Date.now()
            }
            var mainAppCodeVersion = req.contextVersion.getMainAppCodeVersion()
            InstanceService.deleteForkedInstancesByRepoAndBranch(
              req.instanceId,
              mainAppCodeVersion.lowerRepo, mainAppCodeVersion.lowerBranch, next)
          }),
      mw.body().set('contextVersion', 'contextVersion.toJSON()'),
      updateInstanceBuild)
    .else(
      logger(['body'], 'ROUTE: !build.require()', 'trace'),
      // UPDATE INSTANCE with BODY - no build changes just update mongo
      instances.findByIdAndUpdate('instanceId', { $set: 'body' })),
  instances.findById('instanceId'),
  instances.model.upsertIntoGraph(),
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  mw.body('env').require().then(
    instances.model.setDependenciesFromEnvironment('instance.owner.username')),
  instances.model.populateModels(),
  messenger.emitInstanceUpdate('instance', 'patch'),
  mw.res.json('instance'))

/** Delete in a instance
 *  @event DELETE rest/instances/:id
 *  @memberof module:rest/instances */
app.delete('/instances/:id',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  function (req, res, next) {
    rabbitMQ.deleteInstance({
      instanceId: keypather.get(req, 'instance.id'),
      tid: req.domain.runnableData.tid
    })
    next()
  },
  mw.res.status(204),
  mw.res.end())

/**
 * Fork should deep copy an instance, as well as deep copy its current build.  We don't want
 * to shallow copy because it could lead to a rebuild of one instance rebuilding multiple ones.
 *
 * @params id: of the instance to fork
 * @body owner: Either this user, or their associated org
 */
app.post('/instances/:id/actions/copy',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    ownerIsHelloRunnable('instance'),
    me.isModerator),
  mw.body('owner.github').require().then(
    mw.body('owner.github').number(),
    flow.or(
      me.isOwnerOf('body'),
      ownerIsHelloRunnable('body')
    )),
  // The best way to clone an instance is to just use the post route
  // If we deep copy the build, we can attach its id to the body, and just use the post route
  findBuild,
  mw.body('name', 'env', 'owner').pick(),
  mw.body('name').require().then(mw.body('name').string()),
  runnable.create({}, 'sessionUser'),
  // Now that the copied build is in the runnableResult, we can send it to the createInstance route
  runnable.model.copyInstance('sessionUser', 'build', 'instance', 'body'),
  // Now return the new instance
  mw.res.status(201),
  mw.res.json('runnableResult')
)

/** Creates a container (instance.container) from the current instance build (instance.build)
 *  @event PUT rest/instances/:id
 *  @event POST rest/instances/:id/actions/redeploy
 *  @params id: instance id
 */
app.post('/instances/:id/actions/redeploy',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  findBuild,
  mw.body('build').require()
    .then(
      mw.body('build.toString()').validate(validations.equalsKeypath('instance.build.toString()'))
        .else(
          mw.next(Boom.badRequest('Redeploy build does not match instance')))),
  mw.req('build.successful').validate(validations.equals(true))
    .else(mw.next(Boom.badRequest('Cannot redeploy an instance with an unsuccessful build'))),
  mw.req('instance.container').require()
    .else(mw.next(Boom.badRequest('Cannot redeploy an instance without a container'))),
  function (req, res, next) {
    rabbitMQ.redeployInstanceContainer({
      instanceId: req.instanceId,
      sessionUserGithubId: req.sessionUser.accounts.github.id
    })
    next()
  },
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  instances.model.populateModels(),
  mw.req().set('instance.owner.username', 'ownerUsername'),
  mw.res.json('instance'))

/** Start instance container
 *  @event PUT rest/instances/:id
 *  @memberof module:rest/instances */
app.put('/instances/:id/actions/start',
  requestTrace('PUT_INSTANCES_ID_ACTIONS_START'),
  logger([], 'PUT_INSTANCES_ID_ACTIONS_START', 'info'),
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  instances.model.populateModels(),
  function (req, res, next) {
    InstanceService
      .startInstance(req.instance, req.sessionUser.accounts.github.id)
      .asCallback(next)
  },
  mw.res.json('instance'))

/* instance container
 *  @event PUT rest/instances/:id
 *  @memberof module:rest/instances */
app.put('/instances/:id/actions/restart',
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  mw.req('instance.container.dockerContainer').require()
    .else(
      mw.next(Boom.badRequest('Instance does not have a container'))),
  instances.model.isNotStartingOrStopping(),
  instances.model.setContainerStateToStarting(),
  checkFound('instance'),
  // get owner username
  mw.req().set('user', 'sessionUser'),
  users.model.findGithubUserByGithubId('instance.owner.github'),
  checkFound('user', 'Owner not found'),
  mw.req().set('ownerUsername', 'user.login'),
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  messenger.emitInstanceUpdate('instance', 'starting'),
  flow.try(
    // start container
    docker.create(),
    // ignore next die
    flow.try(
      docker.model.restartContainer('instance.container.dockerContainer')
    ).catch(
      mw.req().setToErr('restartErr'),
      instances.model.setContainerStateToStarting(),
      instances.model.populateOwnerAndCreatedBy('sessionUser'),
      messenger.emitInstanceUpdate('instance', 'start-error'),
      // don't ignore next die
      mw.next('restartErr')
    ),
    instances.model.inspectAndUpdate(),
    // upsert new hosts (overwrites old ones)
    hosts.create(),
    hosts.model.upsertHostsForInstance('ownerUsername', 'instance'))
    .catch(
      mw.req().setToErr('err'),
      mw.next('err')),
  // success!
  instances.model.populateOwnerAndCreatedBy('sessionUser'),
  instances.model.populateModels(),
  messenger.emitInstanceUpdate('instance', 'restart'),
  mw.res.json('instance'))

/** Stop instance container
 *  @event PUT rest/instances/:id
 *  @memberof module:rest/instances */
app.put('/instances/:id/actions/stop',
  logger(['body'], 'ROUTE: instances/:id/actions/stop', 'info'),
  findInstance,
  flow.or(
    me.isOwnerOf('instance'),
    me.isModerator),
  instances.model.populateModels(),
  function (req, res, next) {
    InstanceService
      .stopInstance(req.instance, req.sessionUser.accounts.github.id)
      .asCallback(function (err, instance) {
        if (err) {
          return next(err)
        }
        req.instance = instance
        next()
      })
  },
  mw.res.json('instance'))
